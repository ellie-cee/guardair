{% comment %}
  Blog Tag Filter with Custom Category Names
  
  Usage in your blog template:
  {% render 'blog-tag-filter', blog: blog %}
  
  To customize category display names, edit the tag_mappings variable below.
  Format: 'actual-tag:Display Name'
  Example: 'tech-news:Technology News,travel:Travel & Lifestyle'
{% endcomment %}

{% liquid
  assign current_tag = current_tags | first
  
  # CUSTOMIZE YOUR TAG NAMES HERE
  # Format: 'tag-handle:Display Name' separated by commas
  # The tag-handle must match your actual blog tags (lowercase, hyphenated)
  assign tag_mappings = 'sell sheet:Sell Sheets,white paper:White Papers,case study:Case Studies,manual:Operating Instructions,catalog:Catalogs,air guns: Air Guns,vacuums:Pneumatic Vacuums'
  
  # Split the mappings
  assign tag_pairs = tag_mappings | split: ','
%}

<div class="blog-filter-wrapper page-width">
  <div class="blog-filter">
    {%- comment -%} All Posts Button 
    <a 
      href="{{ blog.url }}" 
      class="blog-filter__tag{% unless current_tag %} active{% endunless %}"
    >
      All Literature
    </a>{%- endcomment -%}
    
    {%- comment -%} Loop through custom tag mappings {%- endcomment -%}
    {% for tag_pair in tag_pairs %}
      {% assign parts = tag_pair | split: ':' %}
      {% assign tag_handle = parts[0] | strip %}
      {% assign tag_display = parts[1] | strip %}
      
      {%- comment -%} Only show tag if it exists in the blog {%- endcomment -%}
      {% if blog.all_tags contains tag_handle %}
        <a 
          href="{{ blog.url }}/tagged/{{ tag_handle | handle }}" 
          class="blog-filter__tag{% if current_tag == tag_handle %} active{% endif %}"
        >
          {{ tag_display }}
        </a>
      {% endif %}
    {% endfor %}
    
    {%- comment -%} Show any tags not in the custom mapping {%- endcomment -%}
    {% for tag in blog.all_tags %}
      {% assign tag_is_mapped = false %}
      {% for tag_pair in tag_pairs %}
        {% assign parts = tag_pair | split: ':' %}
        {% assign mapped_handle = parts[0] | strip %}
        {% if tag == mapped_handle %}
          {% assign tag_is_mapped = true %}
          {% break %}
        {% endif %}
      {% endfor %}
      
      {% unless tag_is_mapped %}
        <a 
          href="{{ blog.url }}/tagged/{{ tag | handle }}" 
          class="blog-filter__tag{% if current_tag == tag %} active{% endif %}"
        >
          {{ tag }}
        </a>
      {% endunless %}
    {% endfor %}
  </div>
</div>

<style>
  .blog-filter-wrapper {
    margin-bottom: 3rem;
  }

  .blog-filter {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    padding: 2rem 0;
    border-bottom: 1px solid rgba(var(--color-foreground), 0.1);
  }

  .blog-filter__tag {
    padding: 0.8rem 1.6rem;
    background-color: rgba(var(--color-foreground), 0.05);
    border-radius: 0.4rem;
    text-decoration: none;
    color: rgb(var(--color-foreground));
    font-size: 1.4rem;
    transition: all 0.2s ease;
    border: 1px solid transparent;
    white-space: nowrap;
  }

  .blog-filter__tag:hover {
    background-color: rgba(var(--color-foreground), 0.1);
  }

  .blog-filter__tag.active {
    background-color: rgb(var(--color-foreground));
    color: rgb(var(--color-background));
    border-color: rgb(var(--color-foreground));
  }

  @media screen and (max-width: 749px) {
    .blog-filter {
      gap: 0.8rem;
    }

    .blog-filter__tag {
      padding: 0.6rem 1.2rem;
      font-size: 1.2rem;
    }
  }
</style>