{% comment %} SECTIONS: ywm-faq-navigation.liquid {% endcomment %}
{% comment %} https://github.com/yellowwebmonkey/shopify-features/blob/24f232a72d929ac4b536f14939ed547b3f9722c1/Sections/ywm-faq-navigation.liquid {% endcomment %}
{% comment %} LAST UPDATED: 20250812 {% endcomment %}

{% comment %} FAQ Navigation with anchor links {% endcomment %}

{% style %}
 #shopify-section-{{ section.id }} .toolbar__menu {flex-flow: row nowrap;;display:flex;display: -webkit-flex;display: -moz-flexbox;display: -ms-flexbox;display: -ms-flexbox;-webkit-flex-wrap: wrap; justify-content:center;}
 #shopify-section-{{ section.id }} .toolbar__menu .toolbar__item--menu {display: -webkit-flex;display: -moz-flexbox;display: -ms-flexbox;display: -ms-flexbox;-webkit-flex-wrap: wrap;}
 #shopify-section-{{ section.id }} .tab-item {list-style:none;margin:0 1rem;}
 #shopify-section-{{ section.id }} .tab-item a {text-decoration:none;padding:5px 1rem;scroll-behavior: smooth;}
 {% if section.settings.tab_bg %}#shopify-section-{{ section.id }} .tab-item {background: {{section.settings.tab_bg }};border-radius:8px;margin-right:5px;}{% endif %}
 {% if section.settings.toolbar_font %}#shopify-section-{{ section.id }} .toolbar__menu li a {color: {{ section.settings.toolbar_font }};}{% endif %}
 {% if section.settings.toolbar_bg %}#shopify-section-{{ section.id }} .toolbar {background-color: {{ section.settings.toolbar_bg }};}{% endif %}
 
  
@media screen and (max-width:480px) {
 #shopify-section-{{ section.id }} .toolbar__menu .toolbar__item--menu {flex-basis:150px;}
#shopify-section-{{ section.id }} .page-width {text-align: left;margin: 0 10px !important}
}
@media screen and (min-width:480px) {
  #shopify-section-{{ section.id }} .page-width {text-align: center;}
}  
{% endstyle %}


<section id="shopify-{{ section.id }}" class="toolbar shopify-section">
  <div class="page-width">
    <div class="toolbar__content">
        
          {% if section.blocks.size > 0 %}
                <div class="toolbar__item toolbar__item--menu"><ul class="inline-list toolbar__menu">
            {% for block in section.blocks %}
              {% case block.type %}
                {% when 'faq_link' %}
                  <li class="tab-item tab-item--{{ block.id }} tab-item--border tab-item--text" 
                      {{ block.shopify_attributes }}>
                    
                    {% if block.settings.anchor_id != blank and block.settings.link_text != blank %}
                      <a href="#{{ block.settings.anchor_id }}" class="tab-item__link">
                        {{ block.settings.link_text }}
                      </a>
                    {% endif %}
                    
                  </li>
              {% endcase %}
            {% endfor %}
                </ul></div>
            {% endif %}
          
        </div>
    </div>
</section>

{% schema %}
{
    "name": "GUA Anchor Navigation",
    "class": "shopify-section",
    "settings": [
    {
      "type": "header",
      "content": "Anchor Navigation Settings"
    },      
    {
      "type":"color",
      "id":"toolbar_bg",
      "label":"Toolbar Background Color"
    },
    {
      "type":"color",
      "id":"tab_bg",
      "label":"Tab Background Color"
    },      
    {
      "type":"color",
      "id":"toolbar_font",
      "label":"Toolbar Font Color"
    }    
    ],
    "max_blocks": 12,
    "blocks": [
        {
            "name": "Anchor Link",
            "type": "faq_link",
            "settings": [
                {
                    "type": "text",
                    "id": "link_text",
                    "label": "Link Text",
                    "info": "The text that appears in the navigation"
                },
                {
                    "type": "text",
                    "id": "anchor_id",
                    "label": "Anchor ID",
                    "info": "The ID of the section to scroll to (without #). Example: shipping-info"
                }
            ]
        }
    ],
    "presets": [
        {
          "name": "GUA Anchor Navigation",
          "category":"Guard Air", 
          "blocks": [
            {
              "type": "faq_link",
              "settings": {
                "link_text": "Shipping",
                "anchor_id": "shipping"
              }
            },
            {
              "type": "faq_link",
              "settings": {
                "link_text": "Returns",
                "anchor_id": "returns"
              }
            },
            {
              "type": "faq_link",
              "settings": {
                "link_text": "Product Care",
                "anchor_id": "product-care"
              }
            }
          ]
        }
    ]
}
{% endschema %}